<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>SuperCopa B.C.F.C</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="css/style.css" />
</head>
<body class="interna">
  <!-- Navbar -->
  <nav class="navbar">
    <div class="nav-left">
      <img src="img/logoBCFC.png" alt="Logo do BCFC" class="logo" />
      <span class="titulo-site">SuperCopa B.C.F.C</span>
    </div>

    <button class="nav-toggle" aria-expanded="false" aria-label="Abrir menu">☰</button>

    <ul class="nav-center">
      <li><a href="index.html">Home</a></li>
      <li><a href="MinhaLiga.html">Minha Liga</a></li>
      <li><a href="Times.html">Times</a></li>
      <li><a href="Jogadores.html" class="ativo">Jogadores</a></li>
    </ul>
  </nav>

  <!-- Hero (oculto em páginas internas via CSS body.interna .hero {display:none}) -->
  <header class="hero"></header>

  <!-- Conteúdo -->
  <main class="conteudo">
    <section class="lista-container">
      <h2 class="lista-titulo">Lista de Jogadores</h2>

      <!-- Barra de filtros -->
      <div class="filtros">
        <div class="filtro-esq">
          <input id="busca" type="search" placeholder="Buscar por nome ou time…" aria-label="Buscar jogador" />
          <select id="posicao" aria-label="Filtrar por posição">
            <option value="">Todas as posições</option>
            <option value="LINHA">Linha</option>
            <option value="GOLEIRO">Goleiro</option>
          </select>
          <select id="time" aria-label="Filtrar por time">
            <option value="">Todos os times</option>
            <option value="Preto">Preto</option>
            <option value="Azul">Azul</option>
            <option value="Branco">Branco</option>
            <option value="Amarelo">Amarelo</option>

          </select>
        </div>
        <div class="filtro-dir">
          <label class="lbl-ordenar" for="ordenar">Ordenar:</label>
          <select id="ordenar" aria-label="Ordenar por">
            <option value="nome-asc">Nome (A–Z)</option>
            <option value="nome-desc">Nome (Z–A)</option>
            <option value="datas-desc">Datas (↓)</option>
            <option value="datas-asc">Datas (↑)</option>
            <option value="gols-desc">Gols (↓)</option>
            <option value="gols-asc">Gols (↑)</option>
          </select>
          <button id="limpar" type="button">Limpar</button>
        </div>
      </div>

      <div class="tabela-jogadores">
        <!-- Cabeçalho -->
        <div class="tabela-head">
          <button class="th sort" data-sort="nome">Jogador</button>
          <button class="th sort center" data-sort="datas">Datas</button>
          <button class="th sort center" data-sort="gols">Gols</button>
          <div class="col col-dia">Dia 1</div>
          <div class="col col-dia">Dia 2</div>
          <div class="col col-dia">Dia 3</div>
          <div class="col col-dia">Dia 4</div>
          <div class="col col-dia">Final</div>
        </div>

        <!-- Corpo da tabela: jogadores reais -->
        <div class="tabela-body">
          <!-- Thiago -->
          <div class="tabela-row"
               data-nome="Thiago"
               data-posicao="LINHA"
               data-time="Preto"
               data-datas="1"
               data-gols="5">
            <div class="col col-jogador">
              <div class="jogador-cell">
                <div class="avatar"><img src="img/Thiago.png" alt="Thiago" /></div>
                <div class="jogador-info">
                  <div class="jogador-nome">Thiago</div>
                  <div class="jogador-sub">LINHA • Preto</div>
                </div>
              </div>
            </div>
            

            <!-- Painel KPI (mobile only) -->
            <div class="kpi-panel mobile-only">
              <div class="kpi-item"><span class="kpi-label">Datas</span><span class="kpi">1</span></div>
              <div class="kpi-item"><span class="kpi-label">Gols</span><span class="kpi">5</span></div>
            </div>

            <!-- Colunas desktop -->
            <div class="col col-datas" data-label="Datas"><span class="kpi">1</span></div>
            <div class="col col-gols"  data-label="Gols"><span class="kpi">5</span></div>
            <div class="col col-dia"   data-label="Dia 1"><span class="status status-ok">✓</span></div>
            <div class="col col-dia"   data-label="Dia 2"><span class="status status-null">—</span></div>
            <div class="col col-dia"   data-label="Dia 3"><span class="status status-null">—</span></div>
            <div class="col col-dia"   data-label="Dia 4"><span class="status status-null">—</span></div>
            <div class="col col-dia"   data-label="Final"><span class="status status-null">—</span></div>
          </div>

          <!-- Medina -->
          <div class="tabela-row"
               data-nome="Medina"
               data-posicao="Goleiro"
               data-time="Preto"
               data-datas="1"
               data-gols="0">
            <div class="col col-jogador">
              <div class="jogador-cell">
                <div class="avatar"><img src="img/Placeholder.png" alt="Medina" /></div>
                <div class="jogador-info">
                  <div class="jogador-nome">Medina</div>
                  <div class="jogador-sub">GOLEIRO • Preto</div>
                </div>
              </div>
            </div>
            

            <!-- Painel KPI (mobile only) -->
            <div class="kpi-panel mobile-only">
              <div class="kpi-item"><span class="kpi-label">Datas</span><span class="kpi">1</span></div>
              <div class="kpi-item"><span class="kpi-label">Gols</span><span class="kpi">0</span></div>
            </div>

            <!-- Colunas desktop -->
            <div class="col col-datas" data-label="Datas"><span class="kpi">1</span></div>
            <div class="col col-gols"  data-label="Gols"><span class="kpi">0</span></div>
            <div class="col col-dia"   data-label="Dia 1"><span class="status status-ok">✓</span></div>
            <div class="col col-dia"   data-label="Dia 2"><span class="status status-null">—</span></div>
            <div class="col col-dia"   data-label="Dia 3"><span class="status status-null">—</span></div>
            <div class="col col-dia"   data-label="Dia 4"><span class="status status-null">—</span></div>
            <div class="col col-dia"   data-label="Final"><span class="status status-null">—</span></div>
          </div>
        </div>

        <!-- Placeholders -->
        <div class="tabela-row placeholder"><div class="col col-jogador"></div><div class="col col-datas"></div><div class="col col-gols"></div><div class="col col-dia"></div><div class="col col-dia"></div><div class="col col-dia"></div><div class="col col-dia"></div><div class="col col-dia"></div></div>
        <div class="tabela-row placeholder"><div class="col col-jogador"></div><div class="col col-datas"></div><div class="col col-gols"></div><div class="col col-dia"></div><div class="col col-dia"></div><div class="col col-dia"></div><div class="col col-dia"></div><div class="col col-dia"></div></div>
        <div class="tabela-row placeholder"><div class="col col-jogador"></div><div class="col col-datas"></div><div class="col col-gols"></div><div class="col col-dia"></div><div class="col col-dia"></div><div class="col col-dia"></div><div class="col col-dia"></div><div class="col col-dia"></div></div>
        <div class="tabela-row placeholder"><div class="col col-jogador"></div><div class="col col-datas"></div><div class="col col-gols"></div><div class="col col-dia"></div><div class="col col-dia"></div><div class="col col-dia"></div><div class="col col-dia"></div><div class="col col-dia"></div></div>
        <div class="tabela-row placeholder"><div class="col col-jogador"></div><div class="col col-datas"></div><div class="col col-gols"></div><div class="col col-dia"></div><div class="col col-dia"></div><div class="col col-dia"></div><div class="col col-dia"></div><div class="col col-dia"></div></div>
        <div class="tabela-row placeholder"><div class="col col-jogador"></div><div class="col col-datas"></div><div class="col col-gols"></div><div class="col col-dia"></div><div class="col col-dia"></div><div class="col col-dia"></div><div class="col col-dia"></div><div class="col col-dia"></div></div>
        <div class="tabela-row placeholder"><div class="col col-jogador"></div><div class="col col-datas"></div><div class="col col-gols"></div><div class="col col-dia"></div><div class="col col-dia"></div><div class="col col-dia"></div><div class="col col-dia"></div><div class="col col-dia"></div></div>
        <div class="tabela-row placeholder"><div class="col col-jogador"></div><div class="col col-datas"></div><div class="col col-gols"></div><div class="col col-dia"></div><div class="col col-dia"></div><div class="col col-dia"></div><div class="col col-dia"></div><div class="col col-dia"></div></div>
        <div class="tabela-row placeholder"><div class="col col-jogador"></div><div class="col col-datas"></div><div class="col col-gols"></div><div class="col col-dia"></div><div class="col col-dia"></div><div class="col col-dia"></div><div class="col col-dia"></div><div class="col col-dia"></div></div>
        <div class="tabela-row placeholder"><div class="col col-jogador"></div><div class="col col-datas"></div><div class="col col-gols"></div><div class="col col-dia"></div><div class="col col-dia"></div><div class="col col-dia"></div><div class="col col-dia"></div><div class="col col-dia"></div></div>
      </div>

      <div class="legenda">
        <span class="legend-item"><span class="legend-icon status-ok">✓</span> Compareceu</span>
        <span class="legend-item"><span class="legend-icon status-bad">✗</span> Faltou</span>
        <span class="legend-item"><span class="legend-icon status-null">—</span> Sem jogo / não computado</span>
      </div>
    </section>
  </main>

  <!-- Rodapé -->
  <footer>
    <p>&copy; 2025 SuperCopa B.C.F.C - Todos os direitos reservados</p>
  </footer>

  <!-- JS -->
  <script>
  // ===== FILTROS / ORDENAÇÃO — usa SOMENTE as <option> do HTML =====
    const buscaEl  = document.getElementById('busca');
  const posEl    = document.getElementById('posicao'); // ex.: <option value="">Todas as posições</option>
  const timeEl   = document.getElementById('time');    // ex.: <option value="">Todos os times</option>
    const ordEl    = document.getElementById('ordenar');
    const limparEl = document.getElementById('limpar');
    const headBtns = document.querySelectorAll('.tabela-head .sort');
    const bodyEl   = document.querySelector('.tabela-body');

  const rows = Array.from(bodyEl.querySelectorAll('.tabela-row')); // só linhas reais

  // normalização p/ comparações robustas
  const norm = (s) => (s ?? '')
    .toString()
    .trim()
    .toLowerCase()
    .normalize('NFD')
    .replace(/\p{Diacritic}/gu, '');

  // interpreta valores vazios como "sem filtro"
  const isAll = (v) => norm(v) === '' || norm(v) === '*';

    function aplicaFiltrosOrdenacao() {
    const q   = norm(buscaEl?.value);
    const pos = posEl ? norm(posEl.value) : '';
    const tim = timeEl ? norm(timeEl.value) : '';

    // filtra
      rows.forEach(r => {
      const nome = norm(r.dataset.nome);
      const time = norm(r.dataset.time);
      const posi = norm(r.dataset.posicao);

        const passaBusca = !q || nome.includes(q) || time.includes(q);
      const passaPos   = isAll(pos) || pos === posi;   // usa SOMENTE o value selecionado
      const passaTime  = isAll(tim) || tim === time;   // idem

        r.style.display = (passaBusca && passaPos && passaTime) ? '' : 'none';
      });

    // ordena só os visíveis
      const [campo, dir] = (ordEl?.value || 'nome-asc').split('-');
      const mult = dir === 'desc' ? -1 : 1;
      const visiveis = rows.filter(r => r.style.display !== 'none');

    visiveis.sort((a, b) => {
        if (campo === 'nome')  return a.dataset.nome.localeCompare(b.dataset.nome) * mult;
        if (campo === 'datas') return (parseInt(a.dataset.datas||0,10) - parseInt(b.dataset.datas||0,10)) * mult;
      if (campo === 'gols')  return (parseInt(a.dataset.gols ||0,10) - parseInt(b.dataset.gols ||0,10)) * mult;
        return 0;
      });

      visiveis.forEach(r => bodyEl.appendChild(r));

    // feedback visual do cabeçalho
      headBtns.forEach(b => b.classList.remove('asc','desc'));
      const btn = Array.from(headBtns).find(b => b.dataset.sort === campo);
      if (btn) btn.classList.add(dir === 'asc' ? 'asc' : 'desc');
    }

  // eventos
  [buscaEl, posEl, timeEl, ordEl].forEach(el => {
    if (!el) return;
    el.addEventListener('input', aplicaFiltrosOrdenacao);
    el.addEventListener('change', aplicaFiltrosOrdenacao);
  });

    limparEl?.addEventListener('click', () => {
      if (buscaEl) buscaEl.value = '';
      if (posEl)   posEl.value   = '';
      if (timeEl)  timeEl.value  = '';
      if (ordEl)   ordEl.value   = 'nome-asc';
      aplicaFiltrosOrdenacao();
    });

    headBtns.forEach(b => b.addEventListener('click', () => {
      const campo = b.dataset.sort;
      const atual = (ordEl?.value || '');
      const nova  = atual.startsWith(campo) && atual.endsWith('asc') ? `${campo}-desc` : `${campo}-asc`;
      if (ordEl) ordEl.value = nova;
      aplicaFiltrosOrdenacao();
    }));

  // inicial
    aplicaFiltrosOrdenacao();
  </script>
</body>
</html>
